FROM amazoncorretto:17-alpine-jdk
MAINTAINER Jeffrey <jeffreyoh121@gmail.com>

EXPOSE 8080

ARG SPRING_PROFILES_ACTIVE
ARG CONFIG_SERVER_ENCRYPT_KEY
ARG CONFIG_SERVER_USERNAME
ARG CONFIG_SERVER_PASSWORD

ENV SPRING_PROFILES_ACTIVE=$SPRING_PROFILES_ACTIVE
ENV CONFIG_SERVER_ENCRYPT_KEY=$CONFIG_SERVER_ENCRYPT_KEY
ENV CONFIG_SERVER_USERNAME=$CONFIG_SERVER_USERNAME
ENV CONFIG_SERVER_PASSWORD=$CONFIG_SERVER_PASSWORD

COPY ./build/libs/*.war chulsi.war
CMD java -jar ./chulsi.war